<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 05: Relacionamentos e cardinalidade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Evita scroll da página inteira */
        }
        .slide-content {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .slide-content.active {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">

    <main class="w-full mx-auto p-4 md:p-8">
        <div id="presentation-container" class="bg-white rounded-xl shadow-2xl overflow-hidden flex flex-col" style="height: 100vh;">
            <!-- Slide Content Area -->
            <div id="slide" class="flex-1 w-full h-full p-12 flex items-center justify-center slide-content">
                <!-- O conteúdo do slide será injetado aqui pelo JavaScript -->
            </div>
            
            <!-- Navigation -->
            <div class="bg-gray-50 border-t border-gray-200 p-4 flex items-center justify-between">
                <button id="prevBtn" class="bg-gray-800 text-white px-6 py-2 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                    Anterior
                </button>
                <div id="slide-counter" class="text-sm font-medium text-gray-600"></div>
                <button id="nextBtn" class="bg-gray-800 text-white px-6 py-2 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors">
                    Próximo
                </button>
            </div>
        </div>
    </main>

    <script>
        // --- CONTEÚDO DOS SLIDES ---
        const slides = [
            {
                type: 'title',
                title: 'Modelagem de Banco de Dados',
                subtitle: 'Relacionamentos, Especialização e Agregação'
            },
            {
                title: 'O que é um Relacionamento?',
                content: `
                    <ul class="list-disc space-y-3 text-lg text-left w-full">
                        <li>Um relacionamento é uma <strong>associação entre entidades</strong>.</li>
                        <li>É o que permite conectar dados para utilizá-los de forma eficiente.</li>
                        <li>Exemplo: um relacionamento "pertence" conecta "Aluno" a "Turma".</li>
                        <li>Representado por um losango nos diagramas.</li>
                    </ul>
                `,
                image: { src: './fig/3.1.png', alt: 'Diagrama de relacionamento Aluno e Turma' }
            },
            {
                title: 'Atributos em Relacionamentos',
                content: `
                    <ul class="list-disc space-y-3 text-lg text-left w-full">
                        <li>Um relacionamento também pode ter seus próprios atributos, chamados de <strong>atributos descritivos</strong>.</li>
                        <li>Esses atributos pertencem à relação, não às entidades individualmente.</li>
                        <li><strong>Exemplo:</strong> A "data" em que um professor lecionou uma disciplina. A data pertence ao relacionamento "leciona".</li>
                    </ul>
                `,
                image: { src: './fig/3.2.png', alt: 'Diagrama de relacionamento com atributo descritivo' }
            },
            {
                title: 'Cardinalidade do Mapeamento',
                content: `
                    <div class="text-left w-full">
                        <p class="text-lg mb-4">Expressa o número de objetos de uma entidade que podem ser associados a objetos de outra.</p>
                        <p class="text-lg mb-6">Para definir, pergunte: "Um objeto da entidade X se associa a quantos da entidade Y?". As respostas podem ser <strong>0, 1 ou N (vários)</strong>.</p>
                        <h3 class="font-semibold text-xl text-gray-800 mb-3">Tipos Principais:</h3>
                        <div class="flex justify-around text-center">
                            <div class="p-4 bg-gray-100 rounded-lg"><span class="font-bold text-lg">Um para Um (1:1)</span></div>
                            <div class="p-4 bg-gray-100 rounded-lg"><span class="font-bold text-lg">Um para Muitos (1:N)</span></div>
                            <div class="p-4 bg-gray-100 rounded-lg"><span class="font-bold text-lg">Muitos para Muitos (N:N)</span></div>
                        </div>
                    </div>
                `
            },
            {
                title: 'Cardinalidade Um para Um (1:1)',
                content: `
                    <p class="text-lg text-left w-full mb-4">Ocorre quando um objeto de uma entidade se relaciona a <strong>apenas um</strong> objeto de outra, e vice-versa.</p>
                    <p class="text-lg text-left w-full"><strong>Exemplo:</strong> Um professor dirige apenas uma escola, e uma escola é dirigida por apenas um professor.</p>
                `,
                image: { src: './fig/3.4.png', alt: 'Exemplo de relacionamento 1 para 1' }
            },
            {
                title: 'Cardinalidade Um para Muitos (1:N)',
                content: `
                    <p class="text-lg text-left w-full mb-4">Ocorre quando um objeto de uma entidade pode se relacionar a <strong>vários</strong> objetos de outra, mas o contrário não é verdadeiro.</p>
                    <p class="text-lg text-left w-full"><strong>Exemplo:</strong> Uma escola pode ter vários professores, mas cada professor trabalha em apenas uma escola.</p>
                `,
                image: { src: './fig/3.5.png', alt: 'Exemplo de relacionamento 1 para N' }
            },
            {
                title: 'Cardinalidade Muitos para Muitos (N:N)',
                content: `
                    <p class="text-lg text-left w-full mb-4">Acontece quando um objeto de uma entidade pode se relacionar a <strong>vários</strong> objetos da outra, e vice-versa.</p>
                    <p class="text-lg text-left w-full"><strong>Exemplo:</strong> Um professor pode ministrar várias disciplinas, e uma disciplina pode ser ministrada por vários professores.</p>
                `,
                image: { src: './fig/3.6.png', alt: 'Exemplo de relacionamento N para N' }
            },
            {
                title: 'Relacionamento Ternário',
                content: `
                    <p class="text-lg text-left w-full mb-4">Um relacionamento que ocorre entre <strong>três ou mais entidades</strong>.</p>
                    <p class="text-lg text-left w-full"><strong>Exemplo:</strong> Para registrar qual <strong>professor</strong> ministra qual <strong>disciplina</strong> para qual <strong>turma</strong> em um determinado <strong>ano</strong>, um relacionamento ternário é necessário para manter a informação completa.</p>
                `,
                image: { src: './fig/3.7.png', alt: 'Exemplo de relacionamento ternário' }
            },
            {
                title: 'Relacionamento Recursivo',
                content: `
                     <p class="text-lg text-left w-full mb-4">Também chamado de autorrelacionamento, é um tipo especial que associa objetos <strong>da mesma entidade</strong>.</p>
                     <p class="text-lg text-left w-full"><strong>Exemplo:</strong> Dentro da entidade "Aluno", alguns alunos podem <strong>representar</strong> um grupo de outros alunos (serem <strong>representados</strong>).</p>
                `,
                image: { src: './fig/3.8.png', alt: 'Exemplo de relacionamento recursivo' }
            },
            {
                title: 'Especialização e Generalização',
                content: `
                    <div class="text-left w-full">
                        <p class="text-lg mb-4"><strong>Especialização:</strong> Subdivide uma entidade genérica (pai) em entidades mais específicas (filhas) com atributos próprios. Ex: "Pessoa" se especializa em "Professor" e "Aluno".</p>
                        <p class="text-lg"><strong>Generalização:</strong> Processo inverso. Agrupa entidades similares em uma mais genérica, com um atributo "tipo" para diferenciá-las. Ex: "Telefone" com tipo "celular" ou "residencial".</p>
                    </div>
                `,
                image: { src: './fig/3.9.png', alt: 'Diagramas de especialização e generalização' }
            },
            {
                title: 'Agregação (Entidade Associativa)',
                content: `
                     <p class="text-lg text-left w-full mb-4">Usada quando precisamos criar um <strong>relacionamento com outro relacionamento</strong>.</p>
                     <p class="text-lg text-left w-full"><strong>Exemplo:</strong> As prestações de um pagamento se relacionam com a "Compra" (o relacionamento entre "Cliente" e "Produto"), e não com as entidades individuais.</p>
                `,
                image: { src: './fig/3.13.png', alt: 'Exemplo de agregação' }
            },
            {
                title: 'Conclusão',
                content: `
                    <ul class="list-disc space-y-4 text-xl text-left w-full">
                        <li><strong>Relacionamentos</strong> conectam entidades, dando sentido aos dados.</li>
                        <li><strong>Cardinalidade</strong> define as regras de negócio das associações.</li>
                        <li><strong>Especialização e Agregação</strong> modelam cenários mais complexos e específicos.</li>
                        <li class="pt-4 font-semibold">Compreender esses conceitos é fundamental para criar bancos de dados bem estruturados e eficientes.</li>
                    </ul>
                `
            },
            {
                type: 'title',
                title: 'Perguntas?',
                subtitle: 'Fim da apresentação.'
            }
        ];

        // --- LÓGICA DA APRESENTAÇÃO ---
        let currentSlide = 0;
        const slideContainer = document.getElementById('slide');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const slideCounter = document.getElementById('slide-counter');

        function renderSlide() {
            const slideData = slides[currentSlide];
            slideContainer.classList.remove('active');

            setTimeout(() => {
                let html = '';
                if (slideData.type === 'title') {
                    html = `
                        <div class="text-center">
                            <h1 class="text-5xl font-bold text-gray-800 mb-4">${slideData.title}</h1>
                            <p class="text-2xl text-gray-600">${slideData.subtitle}</p>
                        </div>
                    `;
                } else {
                    html = `
                        <div class="w-full h-full flex flex-col md:flex-row items-center justify-center gap-8">
                            <div class="md:w-1/2 flex-shrink-0">
                                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center md:text-left">${slideData.title}</h2>
                                ${slideData.content}
                            </div>
                            ${slideData.image ? `
                            <div class="md:w-1/2 flex items-center justify-center mt-6 md:mt-0">
                                <img src="${slideData.image.src}" alt="${slideData.image.alt}" class="max-w-full h-auto rounded-lg bg-white p-2 border">
                            </div>
                            ` : ''}
                        </div>
                    `;
                }
                slideContainer.innerHTML = html;
                slideContainer.classList.add('active');
                updateControls();
            }, 250); // Tempo para a transição de fade-out
        }

        function updateControls() {
            slideCounter.textContent = `Slide ${currentSlide + 1} de ${slides.length}`;
            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === slides.length - 1;
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                currentSlide++;
                renderSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                renderSlide();
            }
        }

        // Event Listeners
        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                prevSlide();
            }
        });

        // Inicialização
        renderSlide();
    </script>

</body>
</html>
